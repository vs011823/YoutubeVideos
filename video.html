<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Video</title>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.9.2/video-js.min.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.9.2/video.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.15.0/videojs-contrib-hls.min.js"></script>
	<link type="text/css" rel="stylesheet" href="css/style.css">
</head>
<body>
	<div id="content">
		<div id="video-container">
			<div class="video-wrap">
			  	<video
					id="my-video"
					class="video-js vjs-big-play-centered vjs-4-3"
					controls
					preload="auto"
					width="900"
					height="700"
					data-setup="{}">
					<source src="https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8" type="application/x-mpegURL" />
				</video>
			</div>
			<div class="video-detail">
			</div>
		</div>
	</div>
</body>
</html>

<script>
var videoId, html, title, description, content, REG;
var cacheData = JSON.parse(localStorage.getItem('videos'));
var itemId = localStorage.getItem('currentVideo');

var videoIndex = cacheData.find(function(item, index) { 
	if (item.id == itemId) {
		videoId = index;
		return;
	}
}, videoId);

content = document.querySelector('.video-detail');

title = cacheData[videoId].snippet.title;
description = JSON.stringify(cacheData[videoId].snippet.description);

var formatDes = JSON.parse(description.replace(/\\n/g,"<br />"));

html = `<span class='video-title title-xl'>${title}</span><p class='video-des'>${formatDes}</p>`;

content.innerHTML = html;

</script>